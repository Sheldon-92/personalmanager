# 多设备项目同步方案 - 需求文档

> **文档目的**: 描述跨设备同步本地项目文件夹的需求，供其他agent实现
> **创建时间**: 2025-12-24
> **状态**: 需求描述

---

## 一、问题描述

### 1.1 当前情况

- 我有多个项目文件夹存储在本地电脑
- 我使用 Claude Code / Gemini CLI 等 Terminal 工具来管理和开发这些项目
- 这些项目主要包含：Markdown、YAML、代码文件，以及一些图片

### 1.2 需求

我希望能够：
1. 在**多台电脑**上访问和编辑同一个项目
2. 在不同设备上都能用 Claude Code / Gemini CLI 等工具进行操作
3. 保持文件同步，避免版本冲突

### 1.3 使用场景

```
电脑A（主力机）: 创建/编辑项目 → 同步
电脑B（其他设备）: 拉取最新 → 编辑 → 同步回去
```

---

## 二、方案选择

### 2.1 已确定方案：GitHub 私有仓库

**选择理由**：
- Claude Code 原生支持 git 操作
- 有完整的版本控制和历史追踪
- 适合以文本文件为主的项目
- 私有仓库保护隐私

### 2.2 其他备选方案（未选择）

| 方案 | 优点 | 缺点 |
|------|------|------|
| Google Drive | 自动实时同步 | 无版本控制，可能冲突 |
| Dropbox | 自动同步 | 同上 |
| iCloud | macOS原生 | 同步延迟，不适合git项目 |
| Syncthing | 去中心化，隐私好 | 配置复杂 |

---

## 三、实现要求

### 3.1 基本设置

需要实现：
1. 将本地项目文件夹初始化为 git 仓库（如果还不是）
2. 创建 GitHub 私有仓库
3. 将本地仓库关联到 GitHub 远程仓库
4. 配置合适的 `.gitignore`（忽略不需要同步的文件）

### 3.2 .gitignore 建议

应该忽略的文件类型：
```
# 系统文件
.DS_Store
Thumbs.db

# 编辑器/IDE
.vscode/
.idea/
*.swp

# 依赖目录（如果有）
node_modules/
venv/
__pycache__/

# 敏感信息
.env
*.key
credentials.*

# 大文件（可选，根据实际情况）
*.mp4
*.zip
```

### 3.3 日常工作流程

需要建立的工作习惯：
```
开始工作前: git pull（获取最新）
工作结束后: git add → git commit → git push（同步上去）
```

可选：设置 git hooks 或提醒机制，防止忘记同步。

### 3.4 多仓库管理（可选）

如果有多个项目需要同步，可以考虑：
1. 每个项目一个独立的 GitHub 仓库
2. 或者用一个"umbrella"仓库管理多个项目（用 git submodules 或简单的目录结构）

---

## 四、注意事项

### 4.1 大文件处理

- GitHub 单文件限制 100MB
- 如果有大文件（视频、大图片），考虑：
  - 用 `.gitignore` 排除
  - 使用 Git LFS（Large File Storage）
  - 或者大文件单独用其他方式同步

### 4.2 冲突预防

- 尽量避免在多台设备上同时编辑同一文件
- 每次开始工作前先 `git pull`
- 如果发生冲突，git 会提示，需要手动解决

### 4.3 隐私和安全

- 使用私有仓库
- 不要提交敏感信息（API keys、密码等）
- 定期检查 `.gitignore` 是否覆盖了敏感文件

---

## 五、期望输出

完成实现后，我应该能够：

1. ✅ 在电脑A上执行 `git push` 同步项目
2. ✅ 在电脑B上执行 `git pull` 获取最新内容
3. ✅ 在任意设备上用 Claude Code / Gemini CLI 操作项目
4. ✅ 查看完整的版本历史
5. ✅ 敏感文件和大文件被正确忽略

---

## 六、相关命令参考

### 初始化和关联
```bash
# 初始化git仓库
git init

# 关联远程仓库
git remote add origin git@github.com:用户名/仓库名.git

# 首次推送
git push -u origin main
```

### 日常同步
```bash
# 拉取最新
git pull

# 提交并推送
git add .
git commit -m "更新说明"
git push
```

### 克隆到新设备
```bash
git clone git@github.com:用户名/仓库名.git
```

---

*本文档描述跨设备同步需求，可交给其他agent实现具体配置。*
